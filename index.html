<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultra Advanced Chatbot</title>

<style>
:root{
  --bg:#0b1220;
  --card:#111827;
  --user:#2563eb;
  --bot:#1f2937;
  --text:#e5e7eb;
  --accent:#38bdf8;
}
.light{
  --bg:#f4f6fa;
  --card:#ffffff;
  --user:#2563eb;
  --bot:#e5e7eb;
  --text:#111827;
  --accent:#2563eb;
}

*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI}

body{
  background:var(--bg);
  color:var(--text);
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}

.chat{
  width:440px;
  max-width:95%;
  background:var(--card);
  border-radius:18px;
  display:flex;
  flex-direction:column;
  overflow:hidden;
  box-shadow:0 25px 50px rgba(0,0,0,.4);
}

/* Header */
.header{
  padding:14px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:rgba(255,255,255,.03);
  backdrop-filter:blur(10px);
}
.header span{color:var(--accent);font-weight:600}
.header button{
  background:none;border:none;color:var(--accent);
  cursor:pointer;font-size:14px;
}

/* Messages */
.messages{
  flex:1;
  padding:14px;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  gap:14px;
}

.msg{
  max-width:78%;
  padding:12px 14px;
  border-radius:14px;
  animation:pop .25s ease;
  position:relative;
}
.user{align-self:flex-end;background:var(--user);color:#fff}
.bot{align-self:flex-start;background:var(--bot)}

.actions{
  position:absolute;
  right:6px;
  top:-18px;
  font-size:12px;
  opacity:.6;
  cursor:pointer;
}

.reactions span{
  margin-right:6px;
  cursor:pointer;
}

/* Input */
.input{
  display:flex;
  border-top:1px solid rgba(255,255,255,.1);
}
textarea{
  flex:1;
  background:none;
  border:none;
  color:var(--text);
  padding:12px;
  resize:none;
}
button.send{
  background:var(--accent);
  border:none;
  padding:0 18px;
  cursor:pointer;
}

/* Animations */
@keyframes pop{
  from{opacity:0;transform:translateY(6px)}
  to{opacity:1}
}
.typing{font-style:italic;opacity:.6}
</style>
</head>
<body>

<div class="chat" id="app">
  <div class="header">
    <span>Advanced AI Bot</span>
    <div>
      <button onclick="toggleTheme()">Theme</button>
      <button onclick="exportChat()">Export</button>
    </div>
  </div>

  <div class="messages" id="msgs"></div>

  <div class="input">
    <textarea id="input" rows="1" placeholder="Ask anything..."></textarea>
    <button class="send" onclick="send()">‚û§</button>
  </div>
</div>

<script>
const msgs=document.getElementById("msgs");
const input=document.getElementById("input");
let memory=[];

/* Load */
window.onload=()=>{
  const data=JSON.parse(localStorage.getItem("chatX"))||[];
  data.forEach(m=>addMsg(m.text,m.type,false));
};

/* Message */
function addMsg(text,type,save=true){
  const div=document.createElement("div");
  div.className=`msg ${type}`;
  div.innerHTML=`
    ${text}
    <div class="actions" onclick="this.parentElement.remove()">üóë</div>
    <div class="reactions">
      <span>üëç</span><span>‚ù§Ô∏è</span><span>üòÇ</span>
    </div>`;
  msgs.appendChild(div);
  msgs.scrollTop=msgs.scrollHeight;

  if(save){
    const hist=JSON.parse(localStorage.getItem("chatX"))||[];
    hist.push({text,type});
    localStorage.setItem("chatX",JSON.stringify(hist));
  }
}

/* Typing effect */
function typeBot(text){
  const div=document.createElement("div");
  div.className="msg bot";
  msgs.appendChild(div);
  let i=0;
  const t=setInterval(()=>{
    div.textContent+=text.charAt(i);
    i++;
    msgs.scrollTop=msgs.scrollHeight;
    if(i>=text.length) clearInterval(t);
  },25);
}

/* Send */
function send(){
  const text=input.value.trim();
  if(!text)return;
  addMsg(text,"user");
  memory.push(text);
  input.value="";

  const typing=document.createElement("div");
  typing.className="typing";
  typing.textContent="Bot is thinking...";
  msgs.appendChild(typing);

  setTimeout(()=>{
    typing.remove();
    botReply(text);
  },800);
}

/* Smart bot */
function botReply(msg){
  let reply="Interesting ü§î";
  msg=msg.toLowerCase();

  if(msg.includes("sports")) reply="You are building a Sports Tournament Management System üèÜ";
  else if(msg.includes("backend")) reply="Node.js + Express + MongoDB is perfect üî•";
  else if(msg.includes("remember")) reply=`I remember you said: "${memory[memory.length-2]}"`;

  typeBot(reply);
}

/* Theme */
function toggleTheme(){
  document.body.classList.toggle("light");
}

/* Export */
function exportChat(){
  const data=localStorage.getItem("chatX");
  const blob=new Blob([data],{type:"application/json"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="chat.json";
  a.click();
}

/* Enter */
input.addEventListener("keydown",e=>{
  if(e.key==="Enter"&&!e.shiftKey){
    e.preventDefault();send();
  }
});
</script>

</body>
</html>
